namespace = custom_byz_events

#claim to pontus
country_event = {
	id = custom_byz_events.1
	title = custom_byz_events.1.t
	desc = custom_byz_events.1.d
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	
	option = {
		name = "custom_byz_events.1.a"
		ai_chance = {
			factor = 50
		}
		if {
			limit = {
				is_rival = TRE
				}
			add_prestige = -5
			}
		else {
			TRE = {
				every_core_province = {
					remove_core = ROOT
				}
			}
		}
	}
	option = {
		name = "custom_byz_events.1.b"
		ai_chance = {
			factor = 50
		}
		trigger = { 
		highlight = yes
			AND {
				alliance_with = TRE
				reverse_has_opinion = {
					who = TRE
					value = 200
				}
			}
		}
		vassalize = TRE
	}
	
	option = {
		name = "custom_byz_events.1.c"
		ai_chance = {
			factor = 0
		}
		trigger = { 
		highlight = yes
			AND {
				alliance_with = TRE
				reverse_has_opinion = {
					who = TRE
					value = 200
				}
				prestige = 50
			}
		}
		custom_tooltip = byz_event1_optc_desc
		
		hidden_effect = {
			vassalize = TRE
			inherit = TRE
			}
			add_country_modifier = {
				name = "byz_annex_pontus"
				duration = 3652.5
			}
		
	}
	
}

#sack of constantinople
country_event = {
	id = custom_byz_events.2
	title = custom_byz_events.2.t
	desc = custom_byz_events.2.d
	picture = SIEGE_eventPicture
	
	fire_only_once = yes
	
	major = yes
	
	trigger = {
		tag = BYZ
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		151 = {
			add_devastation =50
		}
	}
	
	option = {
		name = "custom_byz_events.2.a"
		custom_tooltip = " "
		
	}
	option = {
		name = "custom_byz_events.2.b"
		custom_tooltip = " "
		
	}
	option = {
		name = "custom_byz_events.2.c"
		custom_tooltip = " "
		
	}
}

#hexamilion of Corinth 

country_event = {
	id = custom_byz_events.3
	title = custom_byz_events.3.t
	desc = custom_byz_events.3.d
	picture = BYZ_FORT_eventPicture
	
	is_triggered_only = yes 
	
	goto = 4701 #more important than losing in 145
	
	option = {
		name = custom_byz_events.3.a
		
		ai_chance = {
			factor = 1
		}
		
		if = {
			limit = {
				145 = {
					owned_by = ROOT
					has_building = fort_15th
				}
			}
			145 = {
				remove_building = fort_15th
			}
		}
		if = {
			limit = {
				4701 = {
					owned_by = ROOT
					NOT = { has_fort_building_trigger = yes }
				}
			}
			4701 = {
				add_building = fort_15th
			}
		}
		
		custom_tooltip = " "
		
	}
	
	option = {
		name = custom_byz_events.3.b
		
		ai_chance = {
			factor = 0
		}
		151 = {
			add_province_modifier = {
				name = "byz_constantinople_fort_cost"
				duration = -1
			}
		}
	}
}

#theodosian of constantinople
country_event = {
	id = custom_byz_events.4
	title = custom_byz_events.4.t
	desc = custom_byz_events.4.d
	picture = BYZ_FORT_eventPicture
	
	is_triggered_only = yes 
	
	goto = 151
	
	option {
		name = "custom_byz_events.4.a"
		ai_chance = {
			factor = 50
		}
		custom_tooltip = byz_event4_opta_desc
		custom_tooltip = byz_event4_opta_desc2
		hidden_effect = {151 = {
			add_building_construction = {
				building = fort_16th
				speed = 1.25
				cost = 0.50
		}}
	}
	}
	option {
		name = "custom_byz_events.4.b"
		ai_chance = {
			factor = 50
		}
		add_prestige = 25
		if {
			limit = {
			 current_age = age_of_discovery 
			}
				add_country_modifier = {
					name = "byz_city"
					duration = -1
					desc = until_end_of_age_of_discovery_desc
				}
			}
	}
}

#Southern Slavs in our Empire
country_event = {
	id = custom_byz_events.5
	title = custom_byz_events.5.t
	desc = custom_byz_events.5.d
	picture = MERCHANTS_TALKING_eventPicture
	
	is_triggered_only = yes
	
	option {
		name = "custom_byz_events.5.a"
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				accepted_culture = bulgarian
			}
			add_dip_power = 100
		}
		else = {
			add_accepted_culture = bulgarian
		
			hidden_effect = {
				add_country_modifier = {
					name = byz_accept_culture_1
					duration = -1
				}
			}
		custom_tooltip = " "
		custom_tooltip = byz_bulgarian_no_slot
		}
	}
	option {
		name = "custom_byz_events.5.b"
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				accepted_culture = serbian
			}
			add_dip_power = 100
		}
		else = {
		add_accepted_culture = serbian
		
			hidden_effect = {
				add_country_modifier = {
					name = byz_accept_culture_1
					duration = -1
					hidden = yes
				}
			}
		custom_tooltip = " "
		custom_tooltip = byz_serbian_no_slot
		}
	}
	option {
		name = "custom_byz_events.5.c"
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				accepted_culture = croatian
			}
			add_dip_power = 100
		}
		else = {
			add_accepted_culture = croatian
		
			hidden_effect = {
				add_country_modifier = {
					name = byz_accept_culture_1
					duration = -1
					hidden = yes
				}
			}
		custom_tooltip = " "
		custom_tooltip = byz_croatian_no_slot
		hidden = yes
		}
	}
	option {
		name = "custom_byz_events.5.d"
		ai_chance = {
			factor = 0
		}
		add_country_modifier = {
			name = byz_convert_culture
			duration = 7305
		}
	}
}
#question of trebizond
country_event = {
	id = custom_byz_events.6
	title = custom_byz_events.6.t
	desc = custom_byz_events.6.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	goto = 330
	
	option {
		name = custom_byz_events.6.a
		set_country_flag = byz_conquest_path
		custom_tooltip = byz_event6_opta_desc
		custom_tooltip = " "
		custom_tooltip = byz_new_missions_msg
		swap_non_generic_missions = yes
	}
	option {
		name = custom_byz_events.6.b
		set_country_flag = byz_vassalization_path
		custom_tooltip = byz_event6_optb_desc
		custom_tooltip = " "
		custom_tooltip = byz_new_missions_msg
		swap_non_generic_missions = yes
	}
}
#redeem syracuse
country_event = {
	id = custom_byz_events.7
	title = custom_byz_events.7.t
	desc = custom_byz_events.7.d
	picture = PORT_BLOCKADED_eventPicture
	
	is_triggered_only = yes
	
	goto = 124
	
	option = {
		name = custom_byz_events.7.a
		hidden_effect = {
			124 = {
				cede_province = ROOT
			}
			125 = {
				cede_province = ROOT
			}
			2982 = {
				cede_province = ROOT
			}
			4736 = {
				cede_province = ROOT
			}
			4737 = {
				cede_province = ROOT
			}
		}
		custom_tooltip = byz_event7_opta_desc2
		hidden_effect = {
			124 = {
				owner = { 
					white_peace = ROOT
					}
			}
		}
		custom_tooltip = byz_event7_opta_desc
	}
	option = {
		name = custom_byz_events.7.b
		hidden_effect = {
			124 = {
				add_core = ROOT
			}
			125 = {
				add_core = ROOT
			}
			2982 = {
				add_core = ROOT
			}
			4736 = {
				add_core = ROOT
			}
			4737 = {
				add_core = ROOT
			}
		}
		custom_tooltip = byz_event7_optb_desc
	}
}
#East Reclaims Rome
country_event = {
	id = custom_byz_events.8
	title = custom_byz_events.8.t
	desc = custom_byz_events.8.d
	picture = ST_PETERS_CHURCH_eventPicture
	
	goto = 118
	
	major = yes 
	
	is_triggered_only = yes
	
	option = {
		name = custom_byz_events.8.a
		add_patriarch_authority = 0.2
		if = {
			limit = {
				religion = orthodox
			}
			hidden_effect = {
				every_country = {
						limit = { 
							religion = catholic 
							knows_country = BYZ
						}
						country_event = { 
							id = custom_byz_events.9
							}
					}
				}
			custom_tooltip = byz_event7_opta_desc
			}
		}
}
#Orthodox Dominance
country_event = {
	id = custom_byz_events.9
	title = custom_byz_events.9.t
	desc = custom_byz_events.9.d
	picture = PROTESTANT_RELIGIOUS_TENSIONS_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = custom_byz_events.9.a
		add_country_modifier = {
			name = byz_took_rome
			duration = -1
		}
	}
}